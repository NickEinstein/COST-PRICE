"use strict";(self.webpackChunktodoors_web=self.webpackChunktodoors_web||[]).push([[116],{26116:function(e,l,a){a.r(l);var i=a(4942),n=a(93433),s=a(1413),t=a(74165),r=a(15861),d=a(29439),c=a(72791),o=a(8152),u=(a(72426),a(10656),a(4565)),m=a(17205),v=a(49371),h=a(81872),f=a(79365),x=a(35702),j=a(16871),p=(a(14781),a(71066),a(79873)),g=a(28613),b=a(13832),N=a(88871),Z=a(97876),w=a(5588),y=a(85215),P=a(80184);l.default=function(){var e,l,a,C,k=c.useState(!1),S=(0,d.Z)(k,2),_=(S[0],S[1],c.useState("Select Filter")),W=(0,d.Z)(_,2),D=(W[0],W[1],(0,c.useState)({images:[]})),E=(0,d.Z)(D,2),M=E[0],O=E[1],A=(0,c.useState)([]),G=(0,d.Z)(A,2),T=G[0],F=G[1],z=(0,c.useState)([]),B=(0,d.Z)(z,2),H=(B[0],B[1],c.useState(!1)),R=(0,d.Z)(H,2),I=(R[0],R[1],c.useState(null)),J=(0,d.Z)(I,2),L=(J[0],J[1],c.useState()),U=(0,d.Z)(L,2),V=(U[0],U[1],c.useState()),Q=(0,d.Z)(V,2),q=(Q[0],Q[1],c.useState()),K=(0,d.Z)(q,2),X=(K[0],K[1],(0,j.s0)()),Y=(0,w.Ds)().enqueueSnackbar,$=function(){X(N.g.PRODUCT_MANAGEMENT)},ee=c.useState(null),le=(0,d.Z)(ee,2),ae=(le[0],le[1],null===o.Z||void 0===o.Z?void 0:o.Z.useGetCategoriesQuery()),ie=(null===ae||void 0===ae||null===(e=ae.data)||void 0===e||null===(l=e.data)||void 0===l?void 0:l.categories)||[];console.log(ae);var ne=null===o.Z||void 0===o.Z?void 0:o.Z.useGetSubCategoriesQuery({categoryId:M.category_id}),se=(null===ne||void 0===ne||null===(a=ne.data)||void 0===a||null===(C=a.data)||void 0===C?void 0:C.sub_category)||[],te=[{id:"available",name:"Available"},{id:"Unavailable",name:"unavailable"},{id:"Discontinued",name:"Discontinued"}],re=[{id:"south-west",name:"South-West"},{id:"south-east",name:"South-East"},{id:"south-south",name:"South-South"},{id:"north-west",name:"North-West"},{id:"north-east",name:"North-East"},{id:"north-central",name:"North-central"}],de=c.useState(null),ce=(0,d.Z)(de,2),oe=ce[0],ue=(ce[1],Boolean(oe),{color:"yellow",lights:"yes"}),me=["overall","rain coat"],ve={weight:"5kg",volume:"2cl"},he=function(){var e=(0,r.Z)((0,t.Z)().mark((function e(){var l,a,i;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(null===T||void 0===T?void 0:T.length),null!==M&&void 0!==M&&M.category_id){e.next=3;break}return e.abrupt("return",Y("Please add category",{variant:"error"}));case 3:if(ve){e.next=5;break}return e.abrupt("return",Y("Please add specification",{variant:"error"}));case 5:if(null!==M&&void 0!==M&&M.sub_category_id){e.next=7;break}return e.abrupt("return",Y("Please add subcategory",{variant:"error"}));case 7:if(null!==M&&void 0!==M&&M.name){e.next=9;break}return e.abrupt("return",Y("Please add product name",{variant:"error"}));case 9:if(null!==M&&void 0!==M&&M.description){e.next=11;break}return e.abrupt("return",Y("Please add product description",{variant:"error"}));case 11:if(null!==M&&void 0!==M&&M.availability){e.next=13;break}return e.abrupt("return",Y("Please add product availability",{variant:"error"}));case 13:if(null!==M&&void 0!==M&&M.volume){e.next=15;break}return e.abrupt("return",Y("Please add product volume",{variant:"error"}));case 15:if(null!==M&&void 0!==M&&M.weight){e.next=17;break}return e.abrupt("return",Y("Please add product weight",{variant:"error"}));case 17:if(!((null===M||void 0===M?void 0:M.images.length)<1)){e.next=19;break}return e.abrupt("return",Y("Please make sure you have added atleast one image of the product",{variant:"error"}));case 19:if(!((null===T||void 0===T?void 0:T.length)<6)){e.next=21;break}return e.abrupt("return",Y("Please add Prices for all 6 geopolitical zones",{variant:"error"}));case 21:if(ue){e.next=23;break}return e.abrupt("return",Y("Please add product variants",{variant:"success"}));case 23:if(me){e.next=25;break}return e.abrupt("return",Y("Product added product tags",{variant:"success"}));case 25:return(l=new FormData).append("category_id",M.category_id),l.append("sub_category_id",M.sub_category_id),l.append("name",M.name),l.append("description",M.description),l.append("availability",M.availability),l.append("variants",JSON.stringify(ue)),l.append("tags",JSON.stringify(me)),l.append("specification",JSON.stringify({weight:null===M||void 0===M?void 0:M.weight,volume:null===M||void 0===M?void 0:M.volume})),T.forEach((function(e,a){l.append("prices[".concat(a,"][region]"),e.location),l.append("prices[".concat(a,"][min]"),e.minPrice),l.append("prices[".concat(a,"][max]"),e.maxPrice)})),null===M||void 0===M||M.images.forEach((function(e,a){l.append("images[".concat(a,"]"),e)})),e.next=38,(0,Z.v_)({endpoint:"product",body:l});case 38:a=e.sent,console.log(a),200==(null===a||void 0===a?void 0:a.status)?(Y("Product added Successfully",{variant:"success"}),$(null===N.g||void 0===N.g||N.g.PRODUCT_MANAGEMENT)):Y(null===a||void 0===a||null===(i=a.data)||void 0===i?void 0:i.message,{variant:"danger"});case 41:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fe=c.useState("one"),xe=(0,d.Z)(fe,2),je=(xe[0],xe[1],g.Z.Dragger),pe={name:"file",multiple:!0,action:"https://660d2bd96ddfa2943b33731c.mockapi.io/api/upload",onChange:function(e){var l=e.file.status;"uploading"!==l&&(console.log(e.file),O((0,s.Z)((0,s.Z)({},M),{},{images:[].concat((0,n.Z)(null===M||void 0===M?void 0:M.images),[e.file.originFileObj])})),console.log((0,s.Z)((0,s.Z)({},M),{},{images:[].concat((0,n.Z)(null===M||void 0===M?void 0:M.images),[e.file.originFileObj])}))),"done"===l&&b.ZP.success("".concat(e.file.name," file uploaded successfully."))},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}},ge=function(e){console.log(e.target.name),console.log(e.target.value),O((0,s.Z)((0,s.Z)({},M),{},(0,i.Z)({},e.target.name,e.target.value)))};return(0,P.jsxs)("div",{className:"relative w-full pb-10",children:[(0,P.jsxs)("div",{className:"mb-8 mt-8 flex justify-between",children:[(0,P.jsx)(u.Z,{variant:"h5",className:"font-bold",children:"New Product"}),(0,P.jsxs)("div",{className:"flex gap-2",children:[(0,P.jsx)(m.Z,{onClick:function(){return $()},className:"bg-[#E0E5F2] text-[#2B3674]",children:"Cancel"}),(0,P.jsx)(m.Z,{onClick:function(){return he()},children:"Save Product"})]})]}),(0,P.jsxs)("div",{className:"flex gap-5  w-full",children:[(0,P.jsxs)("div",{className:"w-3/5",children:[(0,P.jsxs)("div",{className:"p-8 bg-white mt-5",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"General Information"}),(0,P.jsxs)("div",{className:"mt-8",children:[(0,P.jsx)("div",{className:"w-full justify-between ",children:(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Product Name"}),(0,P.jsx)(v.Z,{name:"name",onChange:ge,className:"w-full",fullWidth:!0})]})}),(0,P.jsx)("div",{className:"w-full justify-between mt-3",children:(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Description"}),(0,P.jsx)(v.Z,{name:"description",onChange:ge,multiline:!0,rows:5,className:"w-full",fullWidth:!0})]})}),(0,P.jsx)(h.Z,{})]})]}),(0,P.jsxs)("div",{className:"mt-5 p-8 bg-white",children:[(0,P.jsxs)("div",{className:"w-full justify-between p-5",children:[(0,P.jsx)("div",{className:"w-2/5",children:(0,P.jsx)(u.Z,{className:"font-bold",children:"Media"})}),(0,P.jsx)("div",{className:" flex gap-5 mt-5",children:(0,P.jsxs)(je,(0,s.Z)((0,s.Z)({className:"h-60  w-full text-center flex flex-col justify-center items-center"},pe),{},{children:[(0,P.jsx)("div",{className:"ant-upload-drag-icon flex justify-center w-full",children:(0,P.jsx)("img",{src:p.Z})}),(0,P.jsxs)("p",{className:"ant-upload-text",children:[(0,P.jsxs)("span",{className:"text-[#EB5017] font-bold",children:["Click Upload"," "]}),"or Drag and drop"]}),(0,P.jsx)("p",{className:"ant-upload-hint text-[#98A2B3]",children:"PNG, JPG or GIF (max. 800x400px)"})]}))})]}),(0,P.jsx)(h.Z,{})]}),(0,P.jsxs)("div",{className:"p-8 bg-white mt-5",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Pricing Information"}),(0,P.jsxs)("div",{className:"mt-8",children:[(0,P.jsx)("div",{className:"w-full justify-between ",children:(0,P.jsxs)("div",{className:"w-full mt-4",children:[(0,P.jsx)(f.Z,{className:"text-left mb-2",children:"Location"}),(0,P.jsx)(v.Z,{onChange:function(e){ge(e)},fullWidth:!0,id:"outlined-select-currency",select:!0,name:"location",children:null===re||void 0===re?void 0:re.map((function(e){return(0,P.jsx)(x.Z,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},e.id)}))})]})}),(0,P.jsx)("div",{className:"w-full justify-between mt-4",children:(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Company Price"}),(0,P.jsx)(v.Z,{name:"companyPrice",onChange:ge,className:"w-full",fullWidth:!0})]})}),(0,P.jsxs)("div",{className:"w-full flex gap-4 justify-between mt-4",children:[(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Recommended Price (min)"}),(0,P.jsx)(v.Z,{name:"minPrice",onChange:ge,className:"w-full",fullWidth:!0})]}),(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Recommended Price (max)"}),(0,P.jsx)(v.Z,{name:"maxPrice",onChange:ge,className:"w-full",fullWidth:!0})]})]}),(0,P.jsx)(m.Z,{className:"mt-3",onClick:function(){null!==T&&void 0!==T&&T.find((function(e){return(null===e||void 0===e?void 0:e.location)==(null===M||void 0===M?void 0:M.location)}))?b.ZP.error("This location has already been added"):F([].concat((0,n.Z)(T),[{location:null===M||void 0===M?void 0:M.location,companyPrice:null===M||void 0===M?void 0:M.companyPrice,minPrice:null===M||void 0===M?void 0:M.minPrice,maxPrice:null===M||void 0===M?void 0:M.maxPrice}]))},children:"Add +"}),(null===T||void 0===T?void 0:T.length)>0&&(0,P.jsxs)("div",{className:"w-full mt-2",children:[(0,P.jsxs)("div",{className:"heading border-2 border-primary-main grid grid-cols-4 w-full gap-2 p-1",children:[(0,P.jsx)(u.Z,{className:"font-bold text-primary-main text-center",children:"Location"}),(0,P.jsx)(u.Z,{className:"font-bold text-primary-main text-center",children:"Price"}),(0,P.jsx)(u.Z,{className:"font-bold text-primary-main text-center",children:"Price (Min)"}),(0,P.jsx)(u.Z,{className:"font-bold text-primary-main text-center",children:"Price (Max)"})]}),null===T||void 0===T?void 0:T.map((function(e){return(0,P.jsxs)("div",{className:"heading border border-primary-main grid grid-cols-4 p-2",children:[(0,P.jsx)(u.Z,{className:"text-center",children:null===e||void 0===e?void 0:e.location}),(0,P.jsx)(u.Z,{className:"text-center",children:null===e||void 0===e?void 0:e.companyPrice}),(0,P.jsx)(u.Z,{className:"text-center",children:null===e||void 0===e?void 0:e.minPrice}),(0,P.jsxs)(u.Z,{className:"text-center flex justify-between",children:[(0,P.jsx)(u.Z,{className:"ml-3",children:null===e||void 0===e?void 0:e.maxPrice}),(0,P.jsx)(y.Z,{onClick:function(){return l=null===e||void 0===e?void 0:e.location,console.log(T),console.log(l),void F((0,n.Z)(null===T||void 0===T?void 0:T.filter((function(e){return(null===e||void 0===e?void 0:e.location)!==l}))));var l},className:"hover:text-red-500 cursor-pointer"})]})]})}))]})]})]})," ",(0,P.jsxs)("div",{className:"w-full flex gap-4 justify-between bg-white p-4 mt-4",children:[(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Volume"}),(0,P.jsx)(v.Z,{name:"volume",placeholder:"L x W x H",onChange:ge,className:"w-full",fullWidth:!0})]}),(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Weight"}),(0,P.jsx)(v.Z,{name:"weight",placeholder:"0g",onChange:ge,className:"w-full",fullWidth:!0})]})]})]}),(0,P.jsxs)("div",{className:"w-2/5",children:[(0,P.jsx)("div",{className:"p-8 bg-white mt-5",children:(0,P.jsxs)("div",{className:"mt-8",children:[(0,P.jsx)("div",{className:"w-full justify-between ",children:(0,P.jsxs)("div",{className:"w-full",children:[(0,P.jsx)(f.Z,{className:"text-left mb-2",children:" Category"}),(0,P.jsx)(v.Z,{onChange:function(e){ge(e)},fullWidth:!0,id:"outlined-select-currency",select:!0,name:"category_id",children:null===ie||void 0===ie?void 0:ie.map((function(e){return(0,P.jsx)(x.Z,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},e.id)}))})]})}),(0,P.jsxs)("div",{className:"w-full mt-4",children:[(0,P.jsx)(f.Z,{className:"text-left mb-2",children:"Sub Category"}),(0,P.jsx)(v.Z,{onChange:function(e){ge(e)},fullWidth:!0,id:"outlined-select-currency",select:!0,name:"sub_category_id",children:null===se||void 0===se?void 0:se.map((function(e){return(0,P.jsx)(x.Z,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},e.id)}))})]}),(0,P.jsx)("div",{className:"w-full justify-between mt-4",children:(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Tags (Optional)"}),(0,P.jsx)(v.Z,{name:"tags",onChange:ge,className:"w-full",fullWidth:!0})]})})]})}),(0,P.jsxs)("div",{className:"mt-5 p-8 bg-white",children:[(0,P.jsx)("div",{className:"w-full justify-between p-5",children:(0,P.jsx)("div",{className:"w-full justify-between  mt-4",children:(0,P.jsxs)("div",{className:"w-full mt-4",children:[(0,P.jsx)(f.Z,{className:"text-left mb-2",children:"Availability"}),(0,P.jsx)(v.Z,{onChange:function(e){ge(e)},fullWidth:!0,id:"outlined-select-currency",select:!0,name:"availability",children:null===te||void 0===te?void 0:te.map((function(e){return(0,P.jsx)(x.Z,{value:null===e||void 0===e?void 0:e.id,children:null===e||void 0===e?void 0:e.name},e.id)}))})]})})}),(0,P.jsx)(h.Z,{})]}),(0,P.jsxs)("div",{className:"p-8 bg-white mt-5",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Variations"}),(0,P.jsxs)("div",{className:"mt-8",children:[(0,P.jsx)("div",{className:"w-full justify-between ",children:(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"Variant"}),(0,P.jsx)(v.Z,{name:"variants",onChange:ge,placeholder:"colors,sizes etc",className:"w-full",fullWidth:!0})]})}),(0,P.jsx)("div",{className:"w-full justify-between mt-4",children:(0,P.jsxs)("div",{className:"w-full ",children:[(0,P.jsx)(u.Z,{className:"font-bold",children:"attribute"}),(0,P.jsx)(v.Z,{name:"attribute",placeholder:"Blue, 3xl etc",onChange:ge,className:"w-full",fullWidth:!0})]})})]})]})]})]})]})}},85215:function(e,l,a){var i=a(40233),n=a(80184);l.Z=(0,i.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V9c0-1.1-.9-2-2-2H8c-1.1 0-2 .9-2 2v10zM9 9h6c.55 0 1 .45 1 1v8c0 .55-.45 1-1 1H9c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1zm6.5-5-.71-.71c-.18-.18-.44-.29-.7-.29H9.91c-.26 0-.52.11-.7.29L8.5 4H6c-.55 0-1 .45-1 1s.45 1 1 1h12c.55 0 1-.45 1-1s-.45-1-1-1h-2.5z"}),"DeleteOutlineRounded")}}]);
//# sourceMappingURL=116.68ffe399.chunk.js.map